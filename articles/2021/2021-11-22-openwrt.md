## æ ‘è“æ´¾ 4B 8G Ubuntu Server 20.04.3 LTS ç¼–è¯‘ openwrt

### [coolsnowwolf/lede](https://github.com/coolsnowwolf/lede)

### å¦‚ä½•ç¼–è¯‘è‡ªå·±éœ€è¦çš„ OpenWrt å›ºä»¶

### æ³¨æ„ï¼š

1. **ä¸**è¦ç”¨ **root** ç”¨æˆ·è¿›è¡Œç¼–è¯‘ï¼ï¼ï¼
2. å›½å†…ç”¨æˆ·ç¼–è¯‘å‰æœ€å¥½å‡†å¤‡å¥½æ¢¯å­
3. é»˜è®¤ç™»é™†IP 192.168.1.1 å¯†ç  password

### ç¼–è¯‘å‘½ä»¤å¦‚ä¸‹:

1. é¦–å…ˆè£…å¥½ Ubuntu 64bitï¼Œæ¨è Ubuntu 20.04 LTS x64

2. å‘½ä»¤è¡Œè¾“å…¥ `sudo apt-get update` ï¼Œç„¶åè¾“å…¥ `sudo apt-get -y install build-essential asciidoc binutils bzip2 gawk gettext git libncurses5-dev libz-dev patch python3 python2.7 unzip zlib1g-dev lib32gcc1 libc6-dev-i386 subversion flex uglifyjs git-core gcc-multilib p7zip p7zip-full msmtp libssl-dev texinfo libglib2.0-dev xmlto qemu-utils upx libelf-dev autoconf automake libtool autopoint device-tree-compiler g++-multilib antlr3 gperf wget curl swig rsync`

3. ä½¿ç”¨ `git clone https://github.com/coolsnowwolf/lede` å‘½ä»¤ä¸‹è½½å¥½æºä»£ç ï¼Œç„¶å `cd lede` è¿›å…¥ç›®å½•

4. ```
   ./scripts/feeds update -a
   ./scripts/feeds install -a
   make menuconfig
   ```

5. `make -j8 download V=s` ä¸‹è½½dlåº“ï¼ˆå›½å†…è¯·å°½é‡å…¨å±€ç§‘å­¦ä¸Šç½‘ï¼‰

6. è¾“å…¥ `make -j1 V=s` ï¼ˆ-j1 åé¢æ˜¯çº¿ç¨‹æ•°ã€‚ç¬¬ä¸€æ¬¡ç¼–è¯‘æ¨èç”¨å•çº¿ç¨‹ï¼‰å³å¯å¼€å§‹ç¼–è¯‘ä½ è¦çš„å›ºä»¶äº†ã€‚

æœ¬å¥—ä»£ç ä¿è¯è‚¯å®šå¯ä»¥ç¼–è¯‘æˆåŠŸã€‚é‡Œé¢åŒ…æ‹¬äº† R21 æ‰€æœ‰æºä»£ç ï¼ŒåŒ…æ‹¬ IPK çš„ã€‚

# ä½ å¯ä»¥è‡ªç”±ä½¿ç”¨ï¼Œä½†æºç ç¼–è¯‘äºŒæ¬¡å‘å¸ƒè¯·æ³¨æ˜æˆ‘çš„ GitHub ä»“åº“é“¾æ¥ã€‚è°¢è°¢åˆä½œï¼

æœåˆ°çš„ç½‘ä¸Šæ¯”è¾ƒæœ‰ç”¨çš„èµ„æ–™ï¼š

> ### [ä½¿ç”¨armæ¶æ„ç¼–è¯‘openwrtï¼Œå¾ˆå¤šé—®é¢˜](https://www.right.com.cn/forum/thread-4057579-1-1.html)
>
> ä¸çŸ¥é“è®ºå›é‡Œçš„å¤§ä½¬ä»¬æœ‰æ²¡æœ‰ç ”ç©¶è¿‡ï¼Œç”¨armæ¶æ„çš„è®¾å¤‡ç¼–è¯‘openwrtï¼Œæ¯”å¦‚n1ï¼Œæ¯”å¦‚æ‰‹æœºã€‚ä¸æ˜¯ä¸èƒ½ç”¨actionäº‘ç¼–è¯‘ï¼Œç”µè„‘é…ç½®ä¹Ÿè¶³å¤Ÿç¼–è¯‘ï¼Œåªä¸è¿‡æƒ³ç©ç©ï¼Œå°è¯•è¾¾åˆ°N1è‡ªå·±ç¼–è¯‘è‡ªå·±ç„¶åè‡ªå·±å‡çº§çš„ç›®çš„ï¼Œå¯æƒœåŠé€”è€ŒåºŸäº†ã€‚
> ç›®å‰æ ¹æ®åˆ«äººçš„ç ”ç©¶ï¼Œarmç‰ˆçš„ubuntuçš„æ‰€æœ‰ç¼–è¯‘ä¾èµ–éƒ½å®‰è£…ä¸Šäº†ï¼Œå¦‚ä¸‹ï¼š
>
> ```bash
> apt update&&apt upgrade -y&&apt install -y gcc-multilib-arm-linux-gnueabihf g++-multilib-arm-linux-gnueabihf build-essential asciidoc binutils bzip2 gawk gettext git libncurses5-dev libz-dev patch python3 python2.7 unzip zlib1g-dev subversion flex uglifyjs git-core p7zip p7zip-full msmtp libssl-dev texinfo libglib2.0-dev xmlto qemu-utils upx libelf-dev autoconf automake libtool autopoint device-tree-compiler antlr3 gperf wget curl swig rsync
> ```
>
> 
>
> ä½†æ˜¯åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­é‡åˆ°äº†éå¸¸å¤šé—®é¢˜ï¼Œæˆ‘è§£å†³äº†ä¸€ä¸¤ä¸ªï¼Œç”±äºæ°´å¹³å®åœ¨æœ‰é™ï¼Œè¿˜æ˜¯ä¸èƒ½ç¼–è¯‘å‡ºåŒ…ã€‚
>
> - ç¼–è¯‘uclçš„æ—¶å€™ï¼Œæç¤ºæ— æ³•è·å–åˆ°ç³»ç»Ÿæ¶æ„ï¼Œè¿™ä¸ªé—®é¢˜ç™¾åº¦äº†ä¸€ä¸‹è§£å†³äº†ï¼Œéœ€è¦åœ¨./configure ååŠ  --build=arm-linuxï¼Œæˆ‘çš„æ–¹æ³•æ˜¯ä¿®æ”¹tools/ucl/Makefile ä¸­./configureä¸€è¡Œã€‚
> - ç¼–è¯‘åˆ°qemuæ—¶ï¼Œæç¤º Unsupported CPU = aarch64 ã€‚æˆ‘æŸ¥äº†å¾ˆå¤šï¼Œqemuæœ€æ–°çš„æºç å¯ä»¥åœ¨armä¸‹ç¼–è¯‘æˆåŠŸï¼Œæ•…æ›¿æ¢feeds/packages/utils/qemu åˆ°tools/qemu
> - æ¢ç¼–è¯‘æ–°ä¸‰å›ºä»¶ï¼Œç¼–è¯‘åˆ°golang ï¼Œæç¤ºMakefile:380: *** go-bootstrap cannot be installed on linux/arm64. Stop.è§£å†³æ–¹æ³•ä¸ºapt install golang-go,ç„¶åé…ç½®æ–‡ä»¶ä¿®æ”¹languages-go-configation-external bootstrap go root directroy ï¼Œæ·»åŠ /usr/local/goï¼Œæˆ–è€…å®‰è£…åç›´æ¥ç¼–è¾‘configï¼Œæ‰¾åˆ°å¹¶ä¿®æ”¹CONFIG_GOLANG_EXTERNAL_BOOTSTRAP_ROOT="/usr/bin/go"
> - ç¼–è¯‘nodeæ—¶ï¼Œæç¤º cc1:error:unrecognized command line option "-m64"ï¼Œmakefile çš„109è¡Œ--dest-cpu=$(NODEJS_CPU) \ æ¢æˆ--dest-cpu=arm64 \
> - naiveproxyæŠ¥é”™ï¼Œåˆ é™¤lean/feeds/helloworld/naiveproxy/src/init_[env.sh](http://env.sh/) çš„22è¡Œï¼š [ "$(uname)" != "Linux" -o "$(uname -m)" != "x86_64" ] && { echo -e "Support Linux AMD64 only."; exit 1; }ï¼›æœ€æ–°ç‰ˆnaiveproxy-92.0.4515.107-1åˆ é™¤è¿™é¡¹å·²ç»æ²¡æœ‰ç”¨äº†ï¼Œä»æ—§æŠ¥é”™ï¼š
>
> ( cd "/home/123/lede/build_dir/target-x86_64_musl/naiveproxy-92.0.4515.107-1/src" ; . ../init_env.sh "x86_64" "" "" "/home/123/lede/staging_dir/toolchain-x86_64_gcc-8.4.0_musl" ; export naive_flags+=" ${naive_ccache_flags}" ; mkdir -p "out" ; ./gn/out/gn gen "out/Release" --args="${naive_flags}" --script-executable="python" ; )
> bash: ./gn/out/gn: cannot execute binary file: Exec format error
>
> 
> ä»¥ä¸Šé—®é¢˜çš„éƒ¨åˆ†è§£å†³æ–¹æ¡ˆæ„Ÿè°¢@[mike22437120](https://www.right.com.cn/forum/space-uid-192402.html) ï¼Œæœ€åŸºç¡€çš„ç¼–è¯‘å·²ç»èƒ½é€šè¿‡ï¼Œå¦å¤–é€‰çš„luciç­‰éƒ¨åˆ†é—®é¢˜ä¸å¥½è§£å†³ï¼Œç›´æ¥å–æ¶ˆç¼–è¯‘ï¼Œå¤§éƒ¨åˆ†å¸¸ç”¨æ’ä»¶ç¼–è¯‘é€šè¿‡
> å„ä½å¤§ä½¬ç¾¤ç­–ç¾¤åŠ›ï¼Œå¦‚èƒ½æœ‰å¤§ä½¬æ ¹æ®å„ç§è§£å†³æ–¹æ¡ˆå‘leanæäº¤commitä»¥æ”¯æŒarmç¼–è¯‘å°±æ›´å¥½äº†
>
> 
> é‡æ–°cloneåå…¨æ–°ç¼–è¯‘ï¼Œåœ¨åˆšå¼€å§‹å°±å‡ºé”™ï¼Œç¼–è¯‘libresslæ—¶ï¼Œç¼–è¯‘åˆ°libcryptoæç¤º
> aes/aes-elf-armv4.S: Assembler messages:
> aes/aes-elf-armv4.S:3: Error: unknown pseudo-op: `.code'
>
> aes/aes-elf-armv4.S:72: Error: junk at end of line, first unrecognized character is `@'
> ä¸€å¤§å †è¿™æ ·çš„é”™è¯¯ã€‚å‰ä¸€æ®µæ—¶é—´ç¼–è¯‘å¹¶æ²¡æœ‰é—®é¢˜ï¼Œä¸çŸ¥é“ä¸ºå•¥çªç„¶å‡ºé—®é¢˜äº†
> 0320æ›´æ–°ï¼šæ¢å›18.04ï¼Œç„¶åé‡æ–°æ‰“åŒ…libressl-3.3.1ä¸º3.0.2ï¼Œæ›¿æ¢æ‰ï¼Œç¼–è¯‘æˆåŠŸã€‚åº”è¯¥æ˜¯18.04çš„gccå¯ç”¨



### å¼€å§‹ç¼–è¯‘ openwrt

<img src="../../assets/image-20211122105110606.png" alt="image-20211122105110606" style="zoom:70%;" />

```bash
sudo apt install  -y gcc-multilib-arm-linux-gnueabihf g++-multilib-arm-linux-gnueabihf build-essential asciidoc binutils bzip2 gawk gettext git libncurses5-dev libz-dev patch python3 python2.7 unzip zlib1g-dev subversion flex uglifyjs git-core p7zip p7zip-full msmtp libssl-dev texinfo libglib2.0-dev xmlto qemu-utils upx libelf-dev autoconf automake libtool autopoint device-tree-compiler antlr3 gperf wget curl swig rsync
```





```bash
karl@ubuntu:/opt/lede$ sudo ./scripts/feeds update -a
Updating feed 'packages' from 'https://github.com/coolsnowwolf/packages' ...
Cloning into './feeds/packages'...
remote: Enumerating objects: 6197, done.
remote: Counting objects: 100% (6197/6197), done.
remote: Compressing objects: 100% (5167/5167), done.
remote: Total 6197 (delta 222), reused 3550 (delta 140), pack-reused 0
Receiving objects: 100% (6197/6197), 4.21 MiB | 1.35 MiB/s, done.
Resolving deltas: 100% (222/222), done.
Updating feed 'luci' from 'https://github.com/coolsnowwolf/luci' ...
Cloning into './feeds/luci'...
remote: Enumerating objects: 3791, done.
remote: Counting objects: 100% (3791/3791), done.
remote: Compressing objects: 100% (1734/1734), done.
remote: Total 3791 (delta 827), reused 3575 (delta 769), pack-reused 0
Receiving objects: 100% (3791/3791), 3.63 MiB | 768.00 KiB/s, done.
Resolving deltas: 100% (827/827), done.
Updating feed 'routing' from 'https://git.openwrt.org/feed/routing.git' ...
Cloning into './feeds/routing'...
remote: Enumerating objects: 384, done.
remote: Counting objects: 100% (384/384), done.
remote: Compressing objects: 100% (313/313), done.
remote: Total 384 (delta 26), reused 287 (delta 17)
Receiving objects: 100% (384/384), 256.16 KiB | 472.00 KiB/s, done.
Resolving deltas: 100% (26/26), done.
Updating feed 'telephony' from 'https://git.openwrt.org/feed/telephony.git' ...
Cloning into './feeds/telephony'...
remote: Enumerating objects: 279, done.
remote: Counting objects: 100% (279/279), done.
remote: Compressing objects: 100% (266/266), done.
remote: Total 279 (delta 10), reused 75 (delta 1)
Receiving objects: 100% (279/279), 180.92 KiB | 363.00 KiB/s, done.
Resolving deltas: 100% (10/10), done.
Create index file './feeds/packages.index'
Checking 'working-make'... ok.
Checking 'case-sensitive-fs'... ok.
Checking 'proper-umask'... ok.
Checking 'gcc'... ok.
Checking 'working-gcc'... ok.
Checking 'g++'... ok.
Checking 'working-g++'... ok.
Checking 'ncurses'... ok.
Checking 'perl-data-dumper'... ok.
Checking 'perl-findbin'... ok.
Checking 'perl-file-copy'... ok.
Checking 'perl-file-compare'... ok.
Checking 'perl-thread-queue'... ok.
Checking 'tar'... ok.
Checking 'find'... ok.
Checking 'bash'... ok.
Checking 'xargs'... ok.
Checking 'patch'... ok.
Checking 'diff'... ok.
Checking 'cp'... ok.
Checking 'seq'... ok.
Checking 'awk'... ok.
Checking 'grep'... ok.
Checking 'egrep'... ok.
Checking 'getopt'... ok.
Checking 'stat'... ok.
Checking 'unzip'... ok.
Checking 'bzip2'... ok.
Checking 'wget'... ok.
Checking 'install'... ok.
Checking 'perl'... ok.
Checking 'python2-cleanup'... ok.
Checking 'python'... ok.
Checking 'python3'... ok.
Checking 'git'... ok.
Checking 'file'... ok.
Checking 'rsync'... ok.
Checking 'which'... ok.
Checking 'ldconfig-stub'... ok.
Collecting package info: done
Collecting target info: done
Create index file './feeds/luci.index'
Collecting package info: done
Collecting target info: done
Create index file './feeds/routing.index'
Collecting package info: done
Collecting target info: done
Create index file './feeds/telephony.index'
Collecting package info: done
Collecting target info: done
```



```bash
karl@ubuntu:/opt/lede$ sudo ./scripts/feeds install -a
Collecting package info: done
Collecting target info: done
WARNING: Makefile 'package/lean/amule/Makefile' has a dependency on 'libpng', which does not exist
WARNING: Makefile 'package/lean/amule/Makefile' has a dependency on 'libupnp', which does not exist
WARNING: Makefile 'package/lean/amule/Makefile' has a build dependency on 'libgd', which does not exist
WARNING: Makefile 'package/lean/antileech/Makefile' has a build dependency on 'libgd', which does not exist
WARNING: Makefile 'package/lean/autocore/Makefile' has a dependency on 'bc', which does not exist
WARNING: Makefile 'package/lean/autocore/Makefile' has a dependency on 'lm-sensors', which does not exist
WARNING: Makefile 'package/lean/automount/Makefile' has a dependency on 'antfs-mount', which does not exist
WARNING: Makefile 'package/lean/autosamba/Makefile' has a dependency on 'luci-app-samba', which does not exist
WARNING: Makefile 'package/lean/autosamba/Makefile' has a dependency on 'wsdd2', which does not exist
WARNING: Makefile 'package/lean/baidupcs-web/Makefile' has a build dependency on 'golang/host', which does not exist
WARNING: Makefile 'package/utils/busybox/Makefile' has a dependency on 'libpam', which does not exist
WARNING: Makefile 'package/utils/busybox/Makefile' has a dependency on 'libpam', which does not exist
```



<img src="../../assets/image-20211122123132768.png" alt="image-20211122123132768" style="zoom:50%;" />



> ### [æ ‘è“æ´¾4B äº²æ‰‹æ‰“é€ ä¸€æ¬¾Openwrtè½¯è·¯ç”±(å¸¦ç¼–è¯‘å›ºä»¶-è¶…è¯¦ç»†) - RaspberryPiç¡¬æ ¸ç³»åˆ—(ä¸‰)](https://www.bilibili.com/read/cv9714518)
>
> #### å¼€å§‹é…ç½®ç³»ç»Ÿï¼Œå‹¾é€‰æ ‘è“æ´¾ ä¸‰ä¸ªé‡è¦å‚æ•° â†“ (ä¸Šä¸‹é”®é€‰æ‹© å›è½¦è¿›å…¥ ç©ºæ ¼é€‰æ‹©ç›®æ ‡)
>
> Target System ---> Broadcom BCM27xx  
>
> Subtarget ---> BCM2711 boards (64 bit)
>
> Target Profile ---> Raspberry Pi 4B (64bit)
>
> æ ‘è“æ´¾å‹å·é€‰æ‹©
> æ–‡ä»¶ç³»ç»Ÿå¤§å°ä¿®æ”¹(æ ¹æ®SDå¡å¤§å°è®¾ç½®å°±è¡Œï¼Œkernelå¤§å°ä¸€èˆ¬256è¶³å¤Ÿäº†)
>
> é•œåƒ æ–‡ä»¶ç³»ç»Ÿå¤§å°ä¿®æ”¹
>
> 
>
> #### æ·»åŠ USBè®¾å¤‡é©±åŠ¨æ”¯æŒï¼ˆä¾‹å¦‚USBç½‘å¡ï¼ŒUSBé›†çº¿å™¨ï¼ŒUSBæ— çº¿ç½‘ç»œç­‰ï¼‰
>
> (USBæ”¯æŒç›®å½•é€‰é¡¹å»ºè®®å…¨é€‰ï¼Œæ–¹ä¾¿ï¼Œä¸ä¼šå¯¼è‡´ç¼–è¯‘å¤±è´¥)
>
> USB Support
> 
>
> #### LUCIæ’ä»¶ (æ’ä»¶appé¡µé¢ åŸç‰ˆå·²ç»ç»§æ‰¿äº†å¾ˆå¤šå®ç”¨çš„app)
> å¸¸ç”¨çš„æ’ä»¶ ğŸ‘‡
>
> luci-app-adbyby-plus å¹¿å‘Šè¿‡æ»¤æ’ä»¶ (æš‚ä¸æ”¯æŒArm x64)
>
> luci-app-docker å®¹å™¨
>
> luci-app-frpc å†…ç½‘ç©¿é€å®¢æˆ·ç«¯
>
> luci-app-nps å†…ç½‘ç©¿é€æ’ä»¶
>
> luci-app-kodexplorer å¯é“äº‘
>
> luci-app-n2n_v2  ç‚¹å¯¹ç‚¹å†…ç½‘ç©¿é€
>
> luci-app-ddns åŠ¨æ€åŸŸåè§£æ
>
> luci-app-mwan3helper  åˆ†æµåŠ©æ‰‹(å¤šè¿è¥å•†ç½‘ç»œ)
>
> luci-app-netdata ç½‘ç»œç›‘æ§æ’ä»¶
>
> luci-app-samba SMBç½‘ç»œå…±äº«
>
> luci-app-syncdial å¤šæ‹¨æ’ä»¶
>
> luci-app-unblockmusic
>
> luci-app-ttyd ç½‘é¡µç»ˆç«¯æ’ä»¶
>
> luci-app-usb-printer æ‰“å°æœºæ’ä»¶
>
> luci-app-vlmcsd KMSæ¿€æ´»å¾®è½¯å…¨å®¶é€š
>
> luci-app-wol ç½‘ç»œå”¤é†’
>
> luci-app-ssr-plus ç§‘å­¦ä¸Šç½‘æ’ä»¶
>
> #### é™„å¼€å¯ç§‘å­¦ä¸Šç½‘æ’ä»¶ç¥ç§˜ä»£ç 
>
> #åœ¨ledeç›®å½•ä¸‹æ‰§è¡Œ ä¹Ÿå¯æ‰“å¼€feeds.conf.defaultæ–‡ä»¶å°†helloworldå‰é¢çš„#åˆ é™¤å³å¯
> echo 'src-git helloworld https://github.com/fw876/helloworld'>>./feeds.conf.default
>
> #æ‰§è¡ŒåŒ…æ›´æ–°
> ./scripts/feeds update -a && ./scripts/feeds install -a
>
> #å†æ¬¡æ‰“å¼€é…ç½®èœå•LUCI-> Applicationä¸­å‹¾é€‰å³å¯
> make menuconfig
>
> #### å…¶ä»–æ’ä»¶å¯ä»¥ä¸‹è½½åˆ° lede/package æ–‡ä»¶å¤¹ä¸‹å†æ‰“å¼€make menuconfigé…ç½®èœå•å³å¯æ‰¾åˆ°
>
> #ä»¥ä¸‹æ’ä»¶åœ¨ lede/package ç›®å½•ä¸‹æ‰§è¡Œå³å¯
> #ç§‘å­¦ä¸Šç½‘æ’ä»¶
> git clone --depth=1 https://github.com/xiaorouji/openwrt-passwall
> git clone --depth=1 -b master https://github.com/vernesong/OpenClash
>
> #å¤§å­¦ç”Ÿæ ¡å›­ç½‘mentohust
> git clone --depth=1 https://github.com/BoringCat/luci-app-mentohust
> git clone --depth=1 https://github.com/KyleRicardo/MentoHUST-OpenWrt-ipk
>
> #å¹¿å‘Šè¿‡æ»¤æ’ä»¶
> git clone https://github.com/rufengsuixing/luci-app-adguardhome
>
> #åº”ç”¨è¿‡æ»¤
> git clone https://github.com/destan19/OpenAppFilter
>
> #Lienolæ•´ç†çš„ä¸€å †å®ç”¨çš„æ’ä»¶
> git clone https://github.com/Lienol/openwrt-package
>
> #### webä¸»é¢˜ ï¼ˆå»ºè®®å…¨é€‰ è¿˜æœ‰å¾ˆå¤šæ¼‚äº®çš„ä¸»é¢˜è‡ªè¡ŒæŸ¥é˜…ä¸‹è½½ï¼‰
>
> openwrtä¸»é¢˜
>          å…¶ä»–è®¾ç½®å°±ä¸åšä¸¾ä¾‹äº†ï¼Œåˆ°è¿™ä¸€æ­¥ä¹Ÿå°±å¯ä»¥é…ç½®å‡ºä¸€ä¸ªåŠŸèƒ½åŸºæœ¬é½å…¨çš„è·¯ç”±ç³»ç»Ÿäº†ï¼Œå¦‚æœè§‰å¾—è¿™æ ·å¾ˆéº»çƒ¦å¯ä½¿ç”¨æˆ‘å†™çš„ä¸€ä¸ªç®€å•è„šæœ¬ ä¸€é”®ç¯å¢ƒä¸‹è½½å®‰è£…ï¼Œæºç æ‹‰å–ï¼Œå¸¸ç”¨appé›†æˆ,è‡ªåŠ¨ç¼–è¯‘(å•çº¿ç¨‹ã€å¤šçº¿ç¨‹ç¼–è¯‘)ï¼ŒåæœŸä½¿ç”¨ä¸€é”®æ›´æ–°openwrtæºç å’Œæ’ä»¶appï¼ˆåªéœ€é…ç½®å¥½ç³»ç»Ÿï¼‰ï¼Œå¾ˆçœå¿ƒï¼Œè„šæœ¬å·²ç»æ”¾åœ¨github éœ€è¦çš„è‡ªå– åœ°å€: https://github.com/bigbugcc/Openwrt         åæœŸè¿˜ä¼šåšä¸€æœŸéå¸¸è¯¦ç»†çš„openwrtä½¿ç”¨æ•™ç¨‹ï¼Œä»¥åŠå·²ç»åœ¨å¼€å‘çš„openwrtäº‘ç¼–è¯‘ç³»ç»Ÿ{ åœ¨ç½‘é¡µç«¯é…ç½®é€‰é¡¹ï¼Œä¸€é”®ç¼–è¯‘ï¼Œé‚®ç®±å‘é€å›ºä»¶ } åæœŸä¼šè€ƒè™‘å¼€æºã€‚ 

<img src="../../assets/image-20211122123808385.png" alt="image-20211122123808385" style="zoom:80%;" />

<img src="../../assets/image-20211122124910504.png" alt="image-20211122124910504" style="zoom:80%;" />

<img src="../../assets/image-20211122125033888.png" alt="image-20211122125033888" style="zoom:80%;" />



<img src="../../assets/image-20211122124824459.png" alt="image-20211122124824459" style="zoom:80%;" />



#### é—®é¢˜

1. `sudo make -j1 V=s`

```bash
configure: error: you should not run configure as root (set FORCE_UNSAFE_CONFIGURE=1 in environment to bypass this check)
See `config.log' for more details
make[3]: *** [Makefile:32: /opt/lede/build_dir/host/tar-1.32/.configured] Error 1
make[3]: Leaving directory '/opt/lede/tools/tar'
time: tools/tar/compile#34.16#39.02#74.41
    ERROR: tools/tar failed to build.
make[2]: *** [tools/Makefile:159: tools/tar/compile] Error 1
make[2]: Leaving directory '/opt/lede'
make[1]: *** [tools/Makefile:155: /opt/lede/staging_dir/host/stamp/.tools_compile_yyynyynnyyyynyyyyyynyynnyyynyyyyyyyyyyyyyyyyynynnyyyyyyyyyy] Error 2
make[1]: Leaving directory '/opt/lede'
make: *** [/opt/lede/include/toplevel.mk:230: world] Error 2
```

**ä¸è¦ç”¨ root ç”¨æˆ· git å’Œç¼–è¯‘ï¼ï¼ï¼** å“ï¼Œæ‰‹è´±äº†ï¼Œæœ¬æ¥æ–‡æ¡£ä¸Šå†™çš„ä¹Ÿæ˜¯  `make -j1 V=s`

```bash
# ä¸ºæ•´ä¸ªæ–‡ä»¶å¤¹æ·»åŠ ä½ çš„æƒé™
sudo chown -R $USER xxx
# or
sudo export FORCE_UNSAFE_CONFIGURE=1

```



```bash
karl@ubuntu:/opt/lede$ make -j1 V=s
mv: replace '/opt/lede/tmp/info/.files-packageinfo.mk', overriding mode 0644 (rw-r--r--)?
...
[ 73%] Building CXX object Source/CMakeFiles/CMakeLib.dir/cmQtAutoGenInitializer.cxx.o
[ 73%] Building CXX object Source/CMakeFiles/CMakeLib.dir/cmQtAutoMocUic.cxx.o
[ 73%] Building CXX object Source/CMakeFiles/CMakeLib.dir/cmQtAutoRcc.cxx.o
[ 73%] Building CXX object Source/CMakeFiles/CMakeLib.dir/cmRST.cxx.o
[ 73%] Building CXX object Source/CMakeFiles/CMakeLib.dir/cmRuntimeDependencyArchive.cxx.o
[ 73%] Building CXX object Source/CMakeFiles/CMakeLib.dir/cmScriptGenerator.cxx.o
[ 73%] Building CXX object Source/CMakeFiles/CMakeLib.dir/cmSourceFile.cxx.o
[ 74%] Building CXX object Source/CMakeFiles/CMakeLib.dir/cmSourceFileLocation.cxx.o
[ 74%] Building CXX object Source/CMakeFiles/CMakeLib.dir/cmSourceGroup.cxx.o
[ 74%] Building CXX object Source/CMakeFiles/CMakeLib.dir/cmStandardLevelResolver.cxx.o
[ 74%] Building CXX object Source/CMakeFiles/CMakeLib.dir/cmState.cxx.o
[ 74%] Building CXX object Source/CMakeFiles/CMakeLib.dir/cmStateDirectory.cxx.o
[ 74%] Building CXX object Source/CMakeFiles/CMakeLib.dir/cmStateSnapshot.cxx.o
[ 74%] Building CXX object Source/CMakeFiles/CMakeLib.dir/cmStringAlgorithms.cxx.o
[ 74%] Building CXX object Source/CMakeFiles/CMakeLib.dir/cmSystemTools.cxx.o
...
aging_dir/host/include    -I./.. -pthread  -Wall -Wpointer-arith -Wno-unused -Wunused-value -Wunused-variable -Wunused-function -Wno-switch -Wno-char-subscripts -Wempty-body -Wunused-but-set-parameter -Wunused-but-set-variable -Wno-sign-compare -Wno-error=maybe-uninitialized -Wsuggest-override -Wimplicit-fallthrough=3 -Wduplicated-cond -Wshadow=local -Wdeprecated-copy -Wdeprecated-copy-dtor -Wredundant-move -Wmissing-declarations -Wstrict-null-sentinel -Wformat -Wformat-nonliteral  -c -o regcache.o -MT regcache.o -MMD -MP -MF ./.deps/regcache.Tpo regcache.c
g++ -x c++  -g -O2   -I. -I. -I./config -DLOCALEDIR="\"/opt/lede/staging_dir/toolchain-aarch64_cortex-a72_gcc-8.4.0_musl/share/locale\"" -DHAVE_CONFIG_H -I./../include/opcode -I./../readline/readline/.. -I./../zlib -I../bfd -I./../bfd -I./../include -I../libdecnumber -I./../libdecnumber  -I./../gnulib/import -I../gnulib/import -I./.. -I..  -DTUI=1 -I/opt/lede/staging_dir/host/include    -I./.. -pthread  -Wall -Wpointer-arith -Wno-unused -Wunused-value -Wunused-variable -Wunused-function -Wno-switch -Wno-char-subscripts -Wempty-body -Wunused-but-set-parameter -Wunused-but-set-variable -Wno-sign-compare -Wno-error=maybe-uninitialized -Wsuggest-override -Wimplicit-fallthrough=3 -Wduplicated-cond -Wshadow=local -Wdeprecated-copy -Wdeprecated-copy-dtor -Wredundant-move -Wmissing-declarations -Wstrict-null-sentinel -Wformat -Wformat-nonliteral  -c -o reggroups.o -MT reggroups.o -MMD -MP -MF ./.deps/reggroups.Tpo reggroups.c
g++ -x c++  -g -O2   -I. -I. -I./config -DLOCALEDIR="\"/opt/lede/staging_dir/toolchain-aarch64_cortex-a72_gcc-8.4.0_musl/share/locale\"" -DHAVE_CONFIG_H -I./../include/opcode -I./../readline/readline/.. -I./../zlib -I../bfd -I./../bfd -I./../include -I../libdecnumber -I./../libdecnumber  -I./../gnulib/import -I../gnulib/import -I./.. -I..  -DTUI=1 -I/opt/lede/staging_dir/host/include    -I./.. -pthread  -Wall -Wpointer-arith -Wno-unused -Wunused-value -Wunused-variable -Wunused-function -Wno-switch -Wno-char-subscripts -Wempty-body -Wunused-but-set-parameter -Wunused-but-set-variable -Wno-sign-compare -Wno-error=maybe-uninitialized -Wsuggest-override -Wimplicit-fallthrough=3 -Wduplicated-cond -Wshadow=local -Wdeprecated-copy -Wdeprecated-copy-dtor -Wredundant-move -Wmissing-declarations -Wstrict-null-sentinel -Wformat -Wformat-nonliteral  -c -o registry.o -MT registry.o -MMD -MP -MF ./.deps/registry.Tpo registry.c
g++ -x c++  -g -O2   -I. -I. -I./config -DLOCALEDIR="\"/opt/lede/staging_dir/toolchain-aarch64_cortex-a72_gcc-8.4.0_musl/share/locale\"" -DHAVE_CONFIG_H -I./../include/opcode -I./../readline/readline/.. -I./../zlib -I../bfd -I./../bfd -I./../include -I../libdecnumber -I./../libdecnumber  -I./../gnulib/import -I../gnulib/import -I./.. -I..  -DTUI=1 -I/opt/lede/staging_dir/host/include    -I./.. -pthread  -Wall -Wpointer-arith -Wno-unused -Wunused-value -Wunused-variable -Wunused-function -Wno-switch -Wno-char-subscripts -Wempty-body -Wunused-but-set-parameter -Wunused-but-set-variable -Wno-sign-compare -Wno-error=maybe-uninitialized -Wsuggest-override -Wimplicit-fallthrough=3 -Wduplicated-cond -Wshadow=local -Wdeprecated-copy -Wdeprecated-copy-dtor -Wredundant-move -Wmissing-declarations -Wstrict-null-sentinel -Wformat -Wformat-nonliteral  -c -o remote-fileio.o -MT remote-fileio.o -MMD -MP -MF ./.deps/remote-fileio.Tpo remote-fileio.c
g++ -x c++  -g -O2   -I. -I. -I./config -DLOCALEDIR="\"/opt/lede/staging_dir/toolchain-aarch64_cortex-a72_gcc-8.4.0_musl/share/locale\"" -DHAVE_CONFIG_H -I./../include/opcode -I./../readline/readline/.. -I./../zlib -I../bfd -I./../bfd -I./../include -I../libdecnumber -I./../libdecnumber  -I./../gnulib/import -I../gnulib/import -I./.. -I..  -DTUI=1 -I/opt/lede/staging_dir/host/include    -I./.. -pthread  -Wall -Wpointer-arith -Wno-unused -Wunused-value -Wunused-variable -Wunused-function -Wno-switch -Wno-char-subscripts -Wempty-body -Wunused-but-set-parameter -Wunused-but-set-variable -Wno-sign-compare -Wno-error=maybe-uninitialized -Wsuggest-override -Wimplicit-fallthrough=3 -Wduplicated-cond -Wshadow=local -Wdeprecated-copy -Wdeprecated-copy-dtor -Wredundant-move -Wmissing-declarations -Wstrict-null-sentinel -Wformat -Wformat-nonliteral  -c -o remote-notif.o -MT remote-notif.o -MMD -MP -MF ./.deps/remote-notif.Tpo remote-notif.c
g++ -x c++  -g -O2   -I. -I. -I./config -DLOCALEDIR="\"/opt/lede/staging_dir/toolchain-aarch64_cortex-a72_gcc-8.4.0_musl/share/locale\"" -DHAVE_CONFIG_H -I./../include/opcode -I./../readline/readline/.. -I./../zlib -I../bfd -I./../bfd -I./../include -I../libdecnumber -I./../libdecnumber  -I./../gnulib/import -I../gnulib/import -I./.. -I..  -DTUI=1 -I/opt/lede/staging_dir/host/include    -I./.. -pthread  -Wall -Wpointer-arith -Wno-unused -Wunused-value -Wunused-variable -Wunused-function -Wno-switch -Wno-char-subscripts -Wempty-body -Wunused-but-set-parameter -Wunused-but-set-variable -Wno-sign-compare -Wno-error=maybe-uninitialized -Wsuggest-override -Wimplicit-fallthrough=3 -Wduplicated-cond -Wshadow=local -Wdeprecated-copy -Wdeprecated-copy-dtor -Wredundant-move -Wmissing-declarations -Wstrict-null-sentinel -Wformat -Wformat-nonliteral  -c -o remote.o -MT remote.o -MMD -MP -MF ./.deps/remote.Tpo remote.c
...

g++   -g -O2 -DIN_GCC  -DCROSS_DIRECTORY_STRUCTURE   -fno-exceptions -fno-rtti -fasynchronous-unwind-tables -W -Wall -Wno-narrowing -Wwrite-strings -Wcast-qual -Wmissing-format-attribute -Woverloaded-virtual -pedantic -Wno-long-long -Wno-variadic-macros -Wno-overlength-strings   -DHAVE_CONFIG_H -DGENERATOR_FILE -fno-PIE -static-libstdc++ -static-libgcc  -no-pie -o build/genemit \
    build/genemit.o build/rtl.o build/read-rtl.o build/ggc-none.o build/vec.o build/min-insn-modes.o build/gensupport.o build/print-rtl.o build/hash-table.o build/read-md.o build/errors.o ../build-aarch64-unknown-linux-gnu/libiberty/libiberty.a
build/genemit /opt/lede/build_dir/toolchain-aarch64_cortex-a72_gcc-8.4.0_musl/gcc-8.4.0/gcc/common.md /opt/lede/build_dir/toolchain-aarch64_cortex-a72_gcc-8.4.0_musl/gcc-8.4.0/gcc/config/aarch64/aarch64.md \
  insn-conditions.md > tmp-emit.c
/bin/bash /opt/lede/build_dir/toolchain-aarch64_cortex-a72_gcc-8.4.0_musl/gcc-8.4.0/gcc/../move-if-change tmp-emit.c insn-emit.c
echo timestamp > s-emit
g++ -fno-PIE -c   -g -O2 -DIN_GCC  -DCROSS_DIRECTORY_STRUCTURE   -fno-exceptions -fno-rtti -fasynchronous-unwind-tables -W -Wall -Wno-narrowing -Wwrite-strings -Wcast-qual -Wmissing-format-attribute -Woverloaded-virtual -pedantic -Wno-long-long -Wno-variadic-macros -Wno-overlength-strings   -DHAVE_CONFIG_H -I. -I. -I/opt/lede/build_dir/toolchain-aarch64_cortex-a72_gcc-8.4.0_musl/gcc-8.4.0/gcc -I/opt/lede/build_dir/toolchain-aarch64_cortex-a72_gcc-8.4.0_musl/gcc-8.4.0/gcc/. -I/opt/lede/build_dir/toolchain-aarch64_cortex-a72_gcc-8.4.0_musl/gcc-8.4.0/gcc/../include -I/opt/lede/build_dir/toolchain-aarch64_cortex-a72_gcc-8.4.0_musl/gcc-8.4.0/gcc/../libcpp/include -I/opt/lede/staging_dir/host/include -I/opt/lede/staging_dir/host/include -I/opt/lede/staging_dir/host/include  -I/opt/lede/build_dir/toolchain-aarch64_cortex-a72_gcc-8.4.0_musl/gcc-8.4.0/gcc/../libdecnumber -I/opt/lede/build_dir/toolchain-aarch64_cortex-a72_gcc-8.4.0_musl/gcc-8.4.0/gcc/../libdecnumber/dpd -I../libdecnumber -I/opt/lede/build_dir/toolchain-aarch64_cortex-a72_gcc-8.4.0_musl/gcc-8.4.0/gcc/../libbacktrace   -o insn-emit.o -MT insn-emit.o -MMD -MP -MF ./.deps/insn-emit.TPo insn-emit.c
...

```



2 `Makefile:380: *** go-bootstrap cannot be installed on linux/arm64. Stop.`

```bash
install -d -m0755 /opt/lede/build_dir/target-aarch64_cortex-a72_musl/cgroupfs-mount-2020-06-26-05494281/ipkg-aarch64_cortex-a72/cgroupfs-mount/etc/init.d
install -m0755 ./files/cgroupfs-mount.init /opt/lede/build_dir/target-aarch64_cortex-a72_musl/cgroupfs-mount-2020-06-26-05494281/ipkg-aarch64_cortex-a72/cgroupfs-mount/etc/init.d/cgroupfs-mount
find /opt/lede/build_dir/target-aarch64_cortex-a72_musl/cgroupfs-mount-2020-06-26-05494281/ipkg-aarch64_cortex-a72/cgroupfs-mount -name 'CVS' -o -name '.svn' -o -name '.#*' -o -name '*~'| xargs -r rm -rf
export CROSS="aarch64-openwrt-linux-musl-"  NO_RENAME=1 ; NM="aarch64-openwrt-linux-musl-nm" STRIP="/opt/lede/staging_dir/host/bin/sstrip -z" STRIP_KMOD="/opt/lede/scripts/strip-kmod.sh" PATCHELF="/opt/lede/staging_dir/host/bin/patchelf" /opt/lede/scripts/rstrip.sh /opt/lede/build_dir/target-aarch64_cortex-a72_musl/cgroupfs-mount-2020-06-26-05494281/ipkg-aarch64_cortex-a72/cgroupfs-mount
(cd /opt/lede/build_dir/target-aarch64_cortex-a72_musl/cgroupfs-mount-2020-06-26-05494281/ipkg-aarch64_cortex-a72/cgroupfs-mount/CONTROL; ( echo "$CONTROL"; printf "Description: "; echo "$DESCRIPTION" | sed -e 's,^[[:space:]]*, ,g'; ) > control; chmod 644 control; ( echo "#!/bin/sh"; echo "[ \"\${IPKG_NO_SCRIPT}\" = \"1\" ] && exit 0"; echo "[ -s "\${IPKG_INSTROOT}/lib/functions.sh" ] || exit 0"; echo ". \${IPKG_INSTROOT}/lib/functions.sh"; echo "default_postinst \$0 \$@"; ) > postinst; ( echo "#!/bin/sh"; echo "[ -s "\${IPKG_INSTROOT}/lib/functions.sh" ] || exit 0"; echo ". \${IPKG_INSTROOT}/lib/functions.sh"; echo "default_prerm \$0 \$@"; ) > prerm; chmod 0755 postinst prerm;  )
install -d -m0755 /opt/lede/bin/packages/aarch64_cortex-a72/packages
/opt/lede/staging_dir/host/bin/fakeroot /opt/lede/scripts/ipkg-build -m "" /opt/lede/build_dir/target-aarch64_cortex-a72_musl/cgroupfs-mount-2020-06-26-05494281/ipkg-aarch64_cortex-a72/cgroupfs-mount /opt/lede/bin/packages/aarch64_cortex-a72/packages
Packaged contents of /opt/lede/build_dir/target-aarch64_cortex-a72_musl/cgroupfs-mount-2020-06-26-05494281/ipkg-aarch64_cortex-a72/cgroupfs-mount into /opt/lede/bin/packages/aarch64_cortex-a72/packages/cgroupfs-mount_2020-06-26-05494281-2_aarch64_cortex-a72.ipk
echo "cgroupfs-mount" >> /opt/lede/staging_dir/target-aarch64_cortex-a72_musl/pkginfo/cgroupfs-mount.default.install
make[3]: Leaving directory '/opt/lede/feeds/packages/utils/cgroupfs-mount'
time: package/feeds/packages/cgroupfs-mount/compile#0.50#1.35#1.65
make[3]: Entering directory '/opt/lede/feeds/packages/lang/golang/golang'
Makefile:365: *** go-bootstrap cannot be installed on linux/arm64.  Stop.
make[3]: Leaving directory '/opt/lede/feeds/packages/lang/golang/golang'
time: package/feeds/packages/golang/host-compile#0.15#0.18#0.31
    ERROR: package/feeds/packages/golang [host] failed to build.
make[2]: *** [package/Makefile:114: package/feeds/packages/golang/host/compile] Error 1
make[2]: Leaving directory '/opt/lede'
make[1]: *** [package/Makefile:110: /opt/lede/staging_dir/target-aarch64_cortex-a72_musl/stamp/.package_compile] Error 2
make[1]: Leaving directory '/opt/lede'
make: *** [/opt/lede/include/toplevel.mk:230: world] Error 2
```

> è§£å†³æ–¹æ³•ä¸º`apt install golang-go`ï¼Œå®‰è£…åç›´æ¥ç¼–è¾‘`config`ï¼Œæ‰¾åˆ°å¹¶ä¿®æ”¹`CONFIG_GOLANG_EXTERNAL_BOOTSTRAP_ROOT="/usr/bin/go"`
>
> 1. è¿›å…¥viä¸­ï¼Œå…ˆæŒ‰ä¸‹"ESC"è·³è½¬æˆå‘½ä»¤è¾“å…¥æ¨¡å¼
> 2. è¾“å…¥æ–œæ â€œ/â€ï¼Œè¿™æ—¶å±å¹•ä¼šè·³è½¬åˆ°åº•éƒ¨ï¼Œè¾“å…¥æ å‡ºç°"/"
> 3. è¾“å…¥ä½ éœ€è¦æŸ¥æ‰¾çš„å…³é”®å­—ï¼Œå›è½¦
> 4. å¦‚æœè¦ç»§ç»­æŸ¥æ‰¾å…³é”®å­—ï¼Œè¾“å…¥n
> 5. å‘å‰æŸ¥æ‰¾ï¼Œè¾“å…¥Nï¼ˆå¤§å†™ï¼‰



3 ç¼–è¯‘äº†æ¥è¿‘7ä¸ªå°æ—¶ã€‚ã€‚ã€‚SSH æ–­å¼€äº†ï¼Œä»»åŠ¡æ‰§è¡Œå¤±è´¥ã€‚

> #### screen 
>
> [å¦‚ä½•åœ¨sshæ–­å¼€åç»§ç»­è®©ç¨‹åºåœ¨åå°è¿è¡Œ](https://blog.csdn.net/fang_chuan/article/details/88960146)
>
> ```bash
> # å»ºç«‹ä¸€ä¸ªå¤„äºæ–­å¼€æ¨¡å¼ä¸‹çš„ä¼šè¯ï¼Œå¹¶æŒ‡å®šå…¶ä¼šè¯åç§° openwrt_run
> screen -dmS openwrt_run 
> 
> # åˆ—å‡ºæ‰€æœ‰ä¼šè¯
> screen -ls 
> 
> <<'COMMENT'
> å¤šè¡Œæ³¨é‡Š
> There is a screen on:
> 	1186994.openwrt_run	(11/24/21 02:18:48)	(Detached)
> 1 Socket in /run/screen/S-karl.
> COMMENT
> 
> # é‡æ–°è¿æ¥æŒ‡å®šä¼šè¯
> screen -r openwrt_run 
> 
> # åœ¨çª—å£ä¸­é”®å…¥Ctrl+a é”®ï¼Œå†æŒ‰ä¸‹ d é”®ï¼Œå°±å¯ä»¥é€€å‡º SSH ç™»å½•ï¼Œä½†ä¸ä¼šå½±å“ screen ç¨‹åºçš„æ‰§è¡Œã€‚
> ```



> [ä½¿ç”¨ screen æ‰§è¡Œ](https://www.raksmart.com/56.html)
>
> ```bash
> # 0 æ­£å¸¸ SSH ç™»å½•æœåŠ¡å™¨
> # 1 åˆ›å»ºçª—å£
> screen -S openwrt_run 
> 
> # 2 åˆ—å‡º screen è¿›ç¨‹åˆ—è¡¨
> screen -ls 
> 
> # 3 åˆ›å»ºçš„çª—å£æ‰§è¡Œå‘½ä»¤ï¼š 
> openwrt_run sudo make -j1 V=s
> 
> # 4 é€€å‡ºä¿å­˜ï¼šåœ¨çª—å£ä¸­é”®å…¥Ctrl+a é”®ï¼Œå†æŒ‰ä¸‹ d é”®ï¼Œå°±å¯ä»¥é€€å‡º SSH ç™»å½•ï¼Œä½†ä¸ä¼šå½±å“ screen ç¨‹åºçš„æ‰§è¡Œã€‚ï¼ˆéœ€è¦ä¸´æ—¶ä¸­æ–­é€€å‡ºæ—¶ï¼ŒæŒ‰ Ctrl +d ä¿å­˜é€€å‡ºï¼‰
> 
> # 5 éœ€è¦ç»§ç»­å·¥ä½œæ—¶ï¼Œå†æ¬¡ SSH ç™»å½•æœåŠ¡å™¨ï¼Œç„¶åç›´æ¥æ‰§è¡Œå¦‚ä¸‹ï¼Œæ¢å¤ä¼šè¯å³å¯
> screen -r -d
> ```



ç»§ç»­ç¼–è¯‘ï¼Œè¿‡ç¨‹ä¸­ï¼Œtop äº†ä¸€ä¸‹ï¼Œå¦‚ä¸‹ï¼šcpu < 25%

<img src="../../assets/image-20211124112629495.png" alt="image-20211124112629495" style="zoom:80%;" />



ç¼–è¯‘è¿‡ç¨‹ä¸­æ–­äº†ä¸¤æ¬¡ï¼Œä¸€æ¬¡æ˜¯å› ä¸º golang æ²¡æœ‰å®‰è£…ï¼Œé¢†ä¸€æ¬¡æ˜¯ ssh æ–­å¼€äº†ã€‚æœ€åä¸€æ¬¡ï¼Œä»æ—©ä¸Š10ç‚¹åˆ°14ï¼š30 ç»ˆäºç¼–è¯‘æˆåŠŸäº†ğŸ˜„ï¼š

![image-20211124144131603](../../assets/image-20211124144131603.png)

```bash
karl@ubuntu:/opt/lede/bin/targets/bcm27xx/bcm2711$ ll
total 397656
drwxr-xr-x 3 karl karl      4096 Nov 24 14:20 ./
drwxr-xr-x 3 karl karl      4096 Nov 22 21:08 ../
-rw-r--r-- 1 karl karl      9404 Nov 24 10:22 config.buildinfo
-rw-r--r-- 1 karl karl       258 Nov 24 10:22 feeds.buildinfo
-rw-r--r-- 1 karl karl 117082355 Nov 24 14:15 openwrt-bcm27xx-bcm2711-rpi-4-ext4-factory.img.gz
-rw-r--r-- 1 karl karl 117083200 Nov 24 14:20 openwrt-bcm27xx-bcm2711-rpi-4-ext4-sysupgrade.img.gz
-rw-r--r-- 1 karl karl  86474144 Nov 24 14:10 openwrt-bcm27xx-bcm2711-rpi-4-squashfs-factory.img.gz
-rw-r--r-- 1 karl karl  86474990 Nov 24 14:15 openwrt-bcm27xx-bcm2711-rpi-4-squashfs-sysupgrade.img.gz
-rw-r--r-- 1 karl karl     12627 Nov 24 14:20 openwrt-bcm27xx-bcm2711-rpi-4.manifest
drwxr-xr-x 2 karl karl     24576 Nov 24 14:20 packages/
-rw-r--r-- 1 karl karl       832 Nov 24 14:20 sha256sums
-rw-r--r-- 1 karl karl        16 Nov 24 10:22 version.buildinfo
```

ä¸¤å¤©æ—¶é—´ï¼Œç²—ç•¥ä¼°è®¡ä¸€æ¬¡ç¼–è¯‘ï¼Œæ ‘è“æ´¾4B è¦ 11+ å°æ—¶ã€‚ã€‚ã€‚

> ps. è¿™ä¹ˆé•¿æ—¶é—´ä¼°è®¡æ˜¯å› ä¸ºæˆ‘ä¸€å¼€å§‹é€‰äº†å¤ªå¤šçš„æ’ä»¶ã€‚ã€‚ã€‚æ‰€ä»¥ï¼Œé¦–æ¬¡ç¼–è¯‘æ—¶å…ˆä¸è¦é€‰ä»»ä½•æ’ä»¶ï¼Œåªé€‰æ‹©é‡è¦çš„å‚æ•°ï¼Œç„¶åç›´æ¥ç¼–è¯‘ï¼Œç¬¬äºŒæ¬¡åœ¨é€‰æ‹©å…¶ä»–çš„ç»„ä»¶ã€æ’ä»¶ç„¶åå¤šçº¿ç¨‹ç¼–è¯‘ é€Ÿåº¦ä¼šå¿«ä¸å°‘ä¹Ÿä¸ä¼šå› ä¸ºå¤šçº¿ç¨‹ç¼–è¯‘æŠ¥é”™ã€‚

### å¼€å§‹çƒ§å½• OpenWrt ç³»ç»Ÿ

çƒ§å½•å¾ˆç®€å•

<img src="../../assets/image-20211124150211902.png" alt="image-20211124150211902" style="zoom:50%;" />

<img src="../../assets/image-20211124150246504.png" alt="image-20211124150246504" style="zoom:50%;" />

é€‰ **factory** åˆ·å…¥sd å¡å³å¯



æ¥ä¸‹æ¥å°±æ˜¯å…·ä½“çš„ä½¿ç”¨äº†ï¼Œç­‰æˆ‘å…·ä½“ä½¿ç”¨äº†å†æ¥ç€è®°å½•ã€‚
